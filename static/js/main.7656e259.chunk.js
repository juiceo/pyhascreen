(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t(55)},25:function(e,a,t){},44:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},45:function(e,a,t){},49:function(e,a,t){},51:function(e,a,t){},53:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(12),s=t.n(o),c=(t(25),t(3)),l=t(4),m=t(7),d=t(5),i=t(6),u=t(9),p=t(13),E=t.n(p),f=t(19),v=t.n(f),w=(t(44),t(45),t(2)),N=t.n(w),h=t(1),S=t.n(h),C=(t(49),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(i.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.snowReport;return n.a.createElement("div",{className:"SnowReport"},n.a.createElement("div",{className:"SnowReport--Current"},n.a.createElement("h3",{className:"SnowReport--Current_Title"},"SNOW DEPTH"),n.a.createElement("div",{className:"SnowReport--Current_Content"},n.a.createElement("div",{className:"SnowReport--Current_section align-left"},n.a.createElement("span",{className:"SnowReport--Current_section-label"},n.a.createElement("strong",null,"PEAK")," ","380m"),n.a.createElement("span",{className:"SnowReport--Current_section-value"},e.uppersnow_cm,"cm")),n.a.createElement("i",{className:"SnowReport--Current_icon fas fa-mountain fa-5x"}),n.a.createElement("div",{className:"SnowReport--Current_section align-right"},n.a.createElement("span",{className:"SnowReport--Current_section-label"},n.a.createElement("strong",null,"VALLEY")," ","170m"),n.a.createElement("span",{className:"SnowReport--Current_section-value"},e.lowersnow_cm,"cm"))),n.a.createElement("div",{className:"SnowReport--Current_Extras"},n.a.createElement("div",{className:"SnowReport--Current_Extras-item"},n.a.createElement("span",{className:"SnowReport--Current_Extras-item_label"},"CONDITIONS"),n.a.createElement("span",{className:"SnowReport--Current_Extras-item_value"},e.conditions))),n.a.createElement("div",{className:"SnowReport--Current_Extras"},n.a.createElement("div",{className:"SnowReport--Current_Extras-item"},n.a.createElement("span",{className:"SnowReport--Current_Extras-item_label"},"NEW SNOW"),n.a.createElement("span",{className:"SnowReport--Current_Extras-item_value"},e.newsnow_cm,"cm")),n.a.createElement("div",{className:"SnowReport--Current_Extras-item"},n.a.createElement("span",{className:"SnowReport--Current_Extras-item_label"},"LAST SNOW"),n.a.createElement("span",{className:"SnowReport--Current_Extras-item_value"},e.lastsnow)),n.a.createElement("div",{className:"SnowReport--Current_Extras-item"},n.a.createElement("span",{className:"SnowReport--Current_Extras-item_label"},"REPORT DATE"),n.a.createElement("span",{className:"SnowReport--Current_Extras-item_value"},e.reportdate)))))}}]),a}(r.Component)),R=(t(51),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(i.a)(a,e),Object(l.a)(a,[{key:"getSnowForecast",value:function(e){var a=this.props.forecast,t=N.a.filter(a.forecast,function(a){return a.date===e}),r=N.a.sumBy(t,function(e){return e.snow_mm});return Math.round(r/10)}},{key:"getDates",value:function(){return[{label:"Today",date:S()().format("DD/MM/YYYY"),dateFormatted:S()().format("DD.MM")},{label:"Tomorrow",date:S()().add(1,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(1,"days").format("DD.MM")},{label:S()().add(2,"days").format("dddd"),date:S()().add(2,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(2,"days").format("DD.MM")},{label:S()().add(3,"days").format("dddd"),date:S()().add(3,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(3,"days").format("DD.MM")},{label:S()().add(4,"days").format("dddd"),date:S()().add(4,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(4,"days").format("DD.MM")}]}},{key:"renderForecast",value:function(){var e=this,a=this.getDates();return N.a.map(a,function(a){var t=e.getSnowForecast(a.date);return n.a.createElement("div",{className:"SnowReport--Forecast_Row"},n.a.createElement("div",{className:"SnowReport--Forecast_Row-label"},n.a.createElement("span",null,n.a.createElement("strong",null,a.label),a.dateFormatted)),n.a.createElement("div",{className:"SnowReport--Forecast_Row-value"},n.a.createElement("span",null,"+ ",t,"cm")))})}},{key:"render",value:function(){return n.a.createElement("div",{className:"SnowReport"},n.a.createElement("div",{className:"SnowReport--Forecast"},n.a.createElement("h3",{className:"SnowReport--Forecast_Title"},"SNOW FORECAST"),this.renderForecast()))}}]),a}(r.Component)),y=(t(53),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(i.a)(a,e),Object(l.a)(a,[{key:"getSnowForecast",value:function(e){var a=this.props.forecast,t=N.a.filter(a.forecast,function(a){return a.date===e}),r=N.a.sumBy(t,function(e){return e.snow_mm});return Math.round(r/10)}},{key:"getDates",value:function(){return[{label:"Today",date:S()().format("DD/MM/YYYY"),dateFormatted:S()().format("DD.MM")},{label:"Tomorrow",date:S()().add(1,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(1,"days").format("DD.MM")},{label:S()().add(2,"days").format("dddd"),date:S()().add(2,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(2,"days").format("DD.MM")},{label:S()().add(3,"days").format("dddd"),date:S()().add(3,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(3,"days").format("DD.MM")},{label:S()().add(4,"days").format("dddd"),date:S()().add(4,"days").format("DD/MM/YYYY"),dateFormatted:S()().add(4,"days").format("DD.MM")}]}},{key:"renderForecast",value:function(){var e=this,a=this.getDates();return N.a.map(a,function(a){var t=e.getSnowForecast(a.date);return n.a.createElement("div",{className:"SnowReport--Forecast_Row"},n.a.createElement("div",{className:"SnowReport--Forecast_Row-label"},n.a.createElement("span",null,n.a.createElement("strong",null,a.label),a.dateFormatted)),n.a.createElement("div",{className:"SnowReport--Forecast_Row-value"},n.a.createElement("span",null,"+ ",t,"cm")))})}},{key:"render",value:function(){return console.log(this.props.forecast),n.a.createElement("div",{className:"WeatherForecast"},n.a.createElement("h3",{className:"WeatherForecast--Title"},"WEATHER FORECAST"),n.a.createElement("div",{className:"WeatherForecast--Header"},n.a.createElement("div",{className:"WeatherForecast--Column flex"}),n.a.createElement("div",{className:"WeatherForecast--Column"},"\xb0C Top"),n.a.createElement("div",{className:"WeatherForecast--Column"},"\xb0C Base"),n.a.createElement("div",{className:"WeatherForecast--Column"},"Wind"),n.a.createElement("div",{className:"WeatherForecast--Column"},"Visibility"),n.a.createElement("div",{className:"WeatherForecast--Column"},"Cloud %")),n.a.createElement("div",{className:"WeatherForecast--Rows"},n.a.createElement("div",{className:"WeatherForecast--Row"},n.a.createElement("div",{className:"WeatherForecast--Column flex"},"Now"),n.a.createElement("div",{className:"WeatherForecast--Column"},"-12"),n.a.createElement("div",{className:"WeatherForecast--Column"},"-11"),n.a.createElement("div",{className:"WeatherForecast--Column"},"23 m/s"),n.a.createElement("div",{className:"WeatherForecast--Column"},"1km"),n.a.createElement("div",{className:"WeatherForecast--Column"},"46%"))))}}]),a}(r.Component)),D="7cf16343a0795614ebe6eee81846b72c",b="https://api.weatherunlocked.com/api/snowreport/".concat("54883819","?app_id=").concat("791fab78","&app_key=").concat(D),_="https://api.weatherunlocked.com/api/resortforecast/".concat("54883819","?app_id=").concat("791fab78","&app_key=").concat(D),F=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={loading:!1,error:!0,snowReport:null,forecast:null},t.updateData=t.updateData.bind(Object(u.a)(Object(u.a)(t))),t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"delay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new E.a(function(a,t){setTimeout(function(){a()},e)})}},{key:"getSnowReport",value:function(){return fetch(b).then(function(e){return e.json()})}},{key:"getForecast",value:function(){return fetch(_).then(function(e){return e.json()})}},{key:"updateData",value:function(){var e=this;this.setState({loading:!0,error:!1},function(){E.a.all([e.getSnowReport(),e.getForecast(),e.delay(1e3)]).then(function(a){e.setState({loading:!1,snowReport:a[0],forecast:a[1]})}).catch(function(a){console.log("Error fetching data",a),e.setState({loading:!1,error:!0})})})}},{key:"render",value:function(){var e=this.state,a=e.forecast,t=e.snowReport;if(this.state.loading&&(!this.state.forecast||!this.state.snowReport))return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App--Loading"},n.a.createElement("i",{className:"fas fa-snowflake fa-spin fa-3x"})));if(this.state.error)return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App--Error"},n.a.createElement("i",{className:"far fa-frown fa-3x"}),n.a.createElement("h3",null,"Oops, something went wrong..."),n.a.createElement("button",{className:"App--Error_reload",onClick:this.updateData},"Try again")));return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App--Content"},n.a.createElement(v.a,Object.assign({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,centerMode:!0,arrows:!1},{className:"Slider"}),n.a.createElement("div",{className:"Slide"},n.a.createElement("div",{className:"Slide--Content"},n.a.createElement("div",{className:"Slide--Content_inner"},n.a.createElement(C,{snowReport:t})))),n.a.createElement("div",{className:"Slide"},n.a.createElement("div",{className:"Slide--Content"},n.a.createElement("div",{className:"Slide--Content_inner"},n.a.createElement(R,{forecast:a})))),n.a.createElement("div",{className:"Slide"},n.a.createElement("div",{className:"Slide--Content"},n.a.createElement("div",{className:"Slide--Content_inner"},n.a.createElement(y,{forecast:a})))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.7656e259.chunk.js.map